{"version":3,"sources":["images/vector.svg","components/Header.js","contexts/CurrentUserContext.js","components/Cards.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Cards","props","currentUser","useContext","isLiked","card","likes","some","i","_id","isOwn","owner","link","name","onClick","onImgClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","today","Date","getFullYear","PopupWithForm","popupOpened","isOpen","onClose","title","noValidate","onSubmit","children","ImagePopup","api","config","this","_url","url","_headers","headers","fetch","method","then","res","_checkRequest","data","body","JSON","stringify","cardId","ok","json","Promise","reject","status","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onAddPlaceCard","App","setCurrentUser","getUserProfile","getUser","catch","err","console","log","setCards","getInitialCards","cardsInit","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImgPopupOpen","setImgPopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editUserProfile","addNewCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MAAe,MAA0B,mCCU1BA,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACC,qBAAKA,UAAU,OAAOC,IAAKC,EAAMC,IAAI,iFCH7BC,EAAsBC,IAAMC,gBCC1B,SAASC,EAAMC,GAC5B,IAAMC,EAAcJ,IAAMK,WAAWN,GAOrC,IAAMO,IAAWH,EAAMI,KAAKC,OAASL,EAAMI,KAAKC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQP,EAAYO,OAChFC,IAAST,EAAMI,KAAKM,OAASV,EAAMI,KAAKM,MAAMF,MAAQP,EAAYO,IAYxE,OACE,qBAAIhB,UAAU,UAAd,UACE,qBACEA,UAAU,eACVC,IAAKO,EAAMI,KAAKO,KAChBhB,IAAKK,EAAMI,KAAKT,IAAMK,EAAMI,KAAKT,IAAMK,EAAMI,KAAKQ,KAClDC,QAvBN,WACEb,EAAMc,WAAWd,EAAMI,SAwBrB,oBAAIZ,UAAU,iBAAd,SAAgCQ,EAAMI,KAAKQ,OACzCH,EACA,wBAAQM,KAAK,SACbF,QAhBN,WACEb,EAAMgB,aAAahB,EAAMI,OAgBrBZ,UAAU,wBAEV,6BAGF,wBACEuB,KAAK,SACLF,QA5BN,WACEb,EAAMiB,WAAWjB,EAAMI,OA4BnBZ,UACGW,EACG,mDACA,yBAGR,mBAAGX,UAAU,iBAAb,SAAgCQ,EAAMI,KAAKC,MAASL,EAAMI,KAAKC,MAAMa,OAAS,OCCrEC,MA/Cf,SAAcnB,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,uBAAMJ,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,qBAAKA,UAAU,mBAAf,SACE,qBACEC,IAAMQ,EAAeA,EAAYmB,OAAS,GAC1CzB,IAAI,uCACJH,UAAU,kBACVqB,QAASb,EAAMqB,iBAGnB,sBAAK7B,UAAU,gBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAiCS,EAAeA,EAAYW,KAAO,KACnE,wBACEG,KAAK,SACLvB,UAAU,uBACVqB,QAASb,EAAMsB,mBAGnB,mBAAG9B,UAAU,oBAAb,SAAmCS,EAAeA,EAAYsB,MAAQ,QAExE,wBACER,KAAK,SACLvB,UAAU,sBACVqB,QAASb,EAAMwB,gBAGnB,yBAAShC,UAAU,WAAnB,SACE,oBAAIA,UAAU,iBAAd,SACGQ,EAAMyB,MAAMC,KAAI,SAACtB,GAAD,OACf,cAACL,EAAD,CAAOK,KAAMA,EAEbU,WAAYd,EAAMc,WAClBG,WAAYjB,EAAMiB,WAClBD,aAAchB,EAAMgB,cAHfZ,EAAKI,gBC9BPmB,MATf,WACE,IAAMC,EAAQ,IAAIC,KAClB,OACE,wBAAQrC,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAb,kBAAoCoC,EAAME,cAA1C,sBCYSC,MAhBf,SAAuB/B,GACrB,IAAMgC,EAAW,UAAMhC,EAAMiC,OAAS,eAAiB,IAEvD,OACE,sBAAKzC,UAAS,gBAAWQ,EAAMY,KAAjB,YAAyBoB,GAAvC,UACE,wBAAQjB,KAAK,SAASvB,UAAS,4BAAuBQ,EAAMY,KAA7B,gBAAiDC,QAASb,EAAMkC,UAC/F,sBAAK1C,UAAS,2BAAsBQ,EAAMY,KAA5B,eAAd,UACJ,oBAAIpB,UAAU,eAAd,SAA8BQ,EAAMmC,QAC9B,sBAAM3C,UAAS,sBAAiBQ,EAAMY,KAAvB,UAAqCA,KAAMZ,EAAMY,KAAMwB,YAAU,EAACC,SAAUrC,EAAMqC,SAAjG,SACIrC,EAAMsC,kBCcHC,MAvBf,SAAoBvC,GAClB,IAAMgC,EAAW,UAAMhC,EAAMiC,OAAS,iCAAmC,qBACzE,OACE,sBAAKzC,UAAWwC,EAAhB,UACE,sBAAKxC,UAAU,0CAAf,UACE,qBACEA,UAAU,mBACVG,IAAKK,EAAMI,KAAOJ,EAAMI,KAAKT,IAAM,sEACnCF,IAAKO,EAAMI,KAAOJ,EAAMI,KAAKO,KAAO,MAEtC,oBAAInB,UAAU,kCAAd,SACGQ,EAAMI,KAAOJ,EAAMI,KAAKQ,KAAO,QAGpC,wBACEG,KAAK,SACLvB,UAAU,4CACVqB,QAASb,EAAMkC,c,cC6GTM,EAAM,I,WA3HlB,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAOG,IACnBF,KAAKG,SAAWJ,EAAOK,Q,8DAGN,IAAD,OAChB,OAAOC,MAAOL,KAAKC,KAAK,SAAU,CAChCK,OAAQ,MACRF,QAASJ,KAAKG,WAEfI,MAAK,SAAAC,GACJ,OAAO,EAAKC,cAAcD,Q,uCAIZ,IAAD,OACf,OAAOH,MAAOL,KAAKC,KAAK,YAAa,CACnCK,OAAQ,MACRF,QAASJ,KAAKG,WAEfI,MAAK,SAAAC,GACJ,OAAO,EAAKC,cAAcD,Q,sCAIdE,GAAO,IAAD,OACpB,OAAOL,MAAOL,KAAKC,KAAK,YAAa,CACnCK,OAAQ,QACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KAEpBH,MAAK,SAAAC,GACN,OAAO,EAAKC,cAAcD,Q,iCAInBE,GAAO,IAAD,OACf,OAAOL,MAAOL,KAAKC,KAAK,SAAU,CAChCK,OAAQ,OACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KAEtBH,MAAK,SAAAC,GACJ,OAAO,EAAKC,cAAcD,Q,iCAInBM,GAAS,IAAD,OACjB,OAAOT,MAAOL,KAAKC,KAAK,UAAUa,EAAQ,CACxCR,OAAQ,SACRF,QAASJ,KAAKG,WAEfI,MAAK,SAAAC,GACJ,OAAO,EAAKC,cAAcD,Q,8BAItBM,GAAS,IAAD,OACd,OAAOT,MAAOL,KAAKC,KAAK,gBAAgBa,EAAQ,CAC9CR,OAAQ,MACRF,QAASJ,KAAKG,WAEfI,MAAK,SAAAC,GACJ,OAAO,EAAKC,cAAcD,Q,2CAITM,EAAQrD,GAAU,IAAD,OACpC,OAAIA,EACK4C,MAAOL,KAAKC,KAAK,gBAAgBa,EAAQ,CAC9CR,OAAQ,SACRF,QAASJ,KAAKG,WAEdI,MAAK,SAAAC,GACL,OAAO,EAAKC,cAAcD,MAIrBH,MAAOL,KAAKC,KAAK,gBAAgBa,EAAQ,CAC9CR,OAAQ,MACRF,QAASJ,KAAKG,WAEfI,MAAK,SAAAC,GACJ,OAAO,EAAKC,cAAcD,Q,iCAKrBM,GAAS,IAAD,OACjB,OAAOT,MAAOL,KAAKC,KAAK,gBAAgBa,EAAQ,CAC9CR,OAAQ,SACRF,QAASJ,KAAKG,WAEdI,MAAK,SAAAC,GACL,OAAO,EAAKC,cAAcD,Q,qCAIfE,GAAO,IAAD,OACnB,OAAOL,MAAOL,KAAKC,KAAK,mBAAoB,CAC1CK,OAAQ,QACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KAEpBH,MAAK,SAAAC,GACL,OAAO,EAAKC,cAAcD,Q,oCAIjBA,GACZ,OAAIA,EAAIO,GACCP,EAAIQ,OAGNC,QAAQC,OAAR,gDAA0BV,EAAIW,a,KASrB,CAJF,CAACjB,IAAK,8CACtBE,QAAS,CAACgB,cAAe,uCAAwC,eAAgB,sBCtHpE,SAASC,EAAiB/D,GAAQ,IAAD,EACtBH,IAAMmE,SAAS,IADO,mBACvCpD,EADuC,KACjCqD,EADiC,OAEPpE,IAAMmE,SAAS,IAFR,mBAEvCE,EAFuC,KAE1BC,EAF0B,KAGxClE,EAAcJ,IAAMK,WAAWN,GAwBrC,OAtBAC,IAAMuE,WAAU,WACdH,EAAShE,EAAeA,EAAYW,KAAO,IAC3CuD,EAAgBlE,EAAeA,EAAYsB,MAAQ,MAClD,CAACtB,IAoBF,eAAC,EAAD,CACIkC,MAAM,4HACNvB,KAAK,gBACLqB,OAAQjC,EAAMiC,OACdC,QAASlC,EAAMkC,QACfG,SAfN,SAAsBgC,GACpBA,EAAEC,iBACFtE,EAAMuE,aAAa,CACjB3D,OACAW,MAAO2C,KAMT,UAOI,uBACEM,GAAG,uBACHzD,KAAK,OACLH,KAAK,QACL6D,YAAY,qBACZC,UAAQ,EACRlF,UAAU,mCACVmF,UAAW,EACXC,UAAW,GACXC,SAlCR,SAA4BR,GAC1BJ,EAAQI,EAAES,OAAOC,QAkCXA,MAAOnE,GAAa,KAEtB,sBAAM4D,GAAG,6BAA6BhF,UAAU,uBAChD,uBACEgF,GAAG,0BACHzD,KAAK,OACLH,KAAK,WACL6D,YAAY,yDACZC,UAAQ,EACRlF,UAAU,sCACVmF,UAAW,EACXC,UAAW,IACXC,SA3CR,SAAiCR,GAC/BF,EAAeE,EAAES,OAAOC,QA2ClBA,MAAOb,GAA4B,KAErC,sBACEM,GAAG,gCACHhF,UAAU,uBAEZ,wBAAQA,UAAU,sCAAsCuB,KAAK,SAA7D,uEClEO,SAASiE,EAAgBhF,GACtC,IAAMoB,EAASvB,IAAMoF,SAWrB,OACE,eAAC,EAAD,CACE9C,MAAM,wFACNvB,KAAK,eACLqB,OAAQjC,EAAMiC,OACdC,QAASlC,EAAMkC,QACfG,SAfJ,SAAsBgC,GACpBA,EAAEC,iBAEFtE,EAAMkF,eAAe,CACnB9D,OAAQA,EAAO+D,QAAQJ,SAMzB,UAOE,uBACEK,IAAKhE,EACLoD,GAAG,oBACHzD,KAAK,MACL0D,YAAY,qGACZ7D,KAAK,WACL8D,UAAQ,EACRlF,UAAU,kCAEZ,sBAAMgF,GAAG,0BAA0BhF,UAAU,uBAC7C,wBAAQA,UAAU,qCAAqCuB,KAAK,SAA5D,uEC9BS,SAASsE,EAAcrF,GAAQ,IAAD,EACnBH,IAAMmE,WADa,mBACpCpD,EADoC,KAC9BqD,EAD8B,OAEnBpE,IAAMmE,WAFa,mBAEpCrD,EAFoC,KAE9B2E,EAF8B,KAqB3C,OACE,eAAC,EAAD,CACEnD,MAAM,gEACNvB,KAAK,aACLqB,OAAQjC,EAAMiC,OACdC,QAASlC,EAAMkC,QACfG,SAvBJ,SAAsBgC,GACpBA,EAAEC,iBACFtE,EAAMuF,eAAe,CACnB3E,KAAMA,EACND,KAAMA,KAcR,UAOE,uBACE6D,GAAG,oBACHzD,KAAK,OACL0D,YAAY,mDACZ7D,KAAK,QACL8D,UAAQ,EACRlF,UAAU,gCACVmF,UAAW,EACXC,UAAW,GACXC,SA1BN,SAA2BR,GACzBJ,EAAQI,EAAES,OAAOC,QA0BbA,MAAOnE,GAAc,KAEvB,sBAAM4D,GAAG,0BAA0BhF,UAAU,uBAC7C,uBACEgF,GAAG,kBACHzD,KAAK,MACL0D,YAAY,qGACZ7D,KAAK,WACL8D,UAAQ,EACRlF,UAAU,8BACVqF,SAjCN,SAA0BR,GACxBiB,EAAQjB,EAAES,OAAOC,QAiCbA,MAAOpE,GAAc,KAEvB,sBAAM6D,GAAG,wBAAwBhF,UAAU,uBAC3C,wBAAQA,UAAU,mCAAmCuB,KAAK,SAA1D,uEC+ISyE,MA3Lf,WAAgB,IAAD,EACyB3F,IAAMmE,WAD/B,mBACN/D,EADM,KACOwF,EADP,KAGb5F,IAAMuE,WAAU,WACd5B,EACGkD,iBACAzC,MAAK,SAAC0C,GACLF,EAAeE,MAEhBC,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,QAE/C,IAZU,MAcahG,IAAMmE,SAAS,IAd5B,mBAcNvC,EAdM,KAcCuE,EAdD,KAgBbnG,IAAMuE,WAAU,WACd5B,EACGyD,kBACAhD,MAAK,SAACiD,GACLF,EAASE,MAEVN,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,QAE/C,IAzBU,MA6B+ChG,IAAMmE,UAAS,GA7B9D,mBA6BNmC,EA7BM,KA6BkBC,EA7BlB,OA8ByCvG,IAAMmE,UAAS,GA9BxD,mBA8BNqC,EA9BM,KA8BeC,EA9Bf,OA+B6CzG,IAAMmE,UAAS,GA/B5D,mBA+BNuC,EA/BM,KA+BiBC,EA/BjB,OAgC6B3G,IAAMmE,UAAS,GAhC5C,mBAgCNyC,EAhCM,KAgCUC,EAhCV,OAiCyB7G,IAAMmE,WAjC/B,mBAiCN2C,EAjCM,KAiCQC,EAjCR,KA2Hb,SAASC,IACPL,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAgB,GAgBlB,OACE,qBAAKlH,UAAU,OAAf,SACE,eAACI,EAAmBkH,SAApB,CAA6B/B,MAAO9E,EAApC,UACA,cAAC,EAAD,IACA,cAAC,EAAD,CACEqB,cAtCN,WACE8E,GAA0B,IAsCtB5E,WAnCN,WACE8E,GAAuB,IAmCnBjF,aA5CN,WACEmF,GAAyB,IA4CrB1F,WApHN,SAAyBV,GACvBwG,EAAgBxG,GAmFhBsG,GAAgB,IAiCZjF,MAAQA,GAAiB,CAAC,IAC1BR,WA5FN,SAAwBb,GACtB,IAAMD,EAAUC,EAAKC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQP,EAAYO,OAC3DgC,EAAIuE,qBAAqB3G,EAAKI,IAAKL,GAAS8C,MAAK,SAAC+D,GAChD,IAAMC,EAAWxF,EAAMC,KAAI,SAACwF,GAAD,OAAOA,EAAE1G,MAAQJ,EAAKI,IAAMwG,EAAUE,KACjElB,EAASiB,MACVrB,OAAM,SAACC,GACRC,QAAQC,IAAI,6IAAgCF,OAuFxC7E,aAnFN,SAA0BZ,GACxBoC,EAAI2E,WAAW/G,EAAKI,KAAKyC,MAAK,WAC5B,IAAMgE,EAAWxF,EAAM2F,QAAO,SAACF,GAAD,OAAQA,EAAE1G,MAAQJ,EAAKI,OACrDwF,EAASiB,MAEVrB,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SA+E5C,cAAC,EAAD,IACA,cAAC9B,EAAD,CACE9B,OAAQkE,EACRjE,QAAS2E,EACTtC,aAxHN,SAA0BnB,GACxBZ,EAAI6E,gBAAgBjE,GACrBH,MAAK,WACJwC,EAAerC,GACfyD,OAED5D,MAAK,WACJT,EACGkD,iBACAzC,MAAK,SAAC0C,GACLF,EAAeE,MAEhBC,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SAGjDD,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SAyG1C,cAACR,EAAD,CACEpD,OAAQoE,EACRnE,QAAS2E,EACTtB,eAnCN,SAA8ByB,GAC5BxE,EAAI8E,WAAWN,GACZ/D,MAAK,SAACG,GACL4C,EAAS,CAAC5C,GAAF,mBAAW3B,QAEpBwB,MAAK,WACJ4D,OAEDjB,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SA4B9C,cAACb,EAAD,CACA/C,OAAQsE,EACRrE,QAAS2E,EACT3B,eAxFJ,SAA4B9B,GAC1BZ,EAAI+E,eAAenE,GACpBH,MAAK,WACJG,EAAKxC,KAAOX,EAAYW,KACxBwC,EAAK7B,MAAQtB,EAAYsB,MACzBkE,EAAerC,GACfyD,OAaDjB,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SAsE1C,cAAC,EAAD,CACE1D,MAAM,2DACNvB,KAAK,eACLsB,QAAS2E,EAHX,SAKE,wBAAQrH,UAAU,qCAAqCuB,KAAK,SAA5D,4BAIF,cAAC,EAAD,CAAYX,KAAMuG,EAAc1E,OAAQwE,EAAgBvE,QAAS2E,UCrLxDW,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBzE,MAAK,YAAkD,IAA/C0E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.62614787.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/vector.c2821b38.svg\";","import logo from '../images/vector.svg'\r\n\r\nfunction Header() {\r\n  return(\r\n    <header className=\"header\">\r\n     <img className=\"logo\" src={logo} alt=\"Логотип сайта\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext  = React.createContext();\r\n","import React from \"react\";\r\nimport {CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Cards(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n \r\n  function handleClick() {\r\n    props.onImgClick(props.card);\r\n  }  \r\n  \r\n  const isLiked = (props.card.likes) ? props.card.likes.some(i => i._id === currentUser._id) : false;\r\n  const isOwn = (props.card.owner) ? props.card.owner._id === currentUser._id : false;\r\n  \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <img\r\n        className=\"element__img\"\r\n        src={props.card.link}\r\n        alt={props.card.alt ? props.card.alt : props.card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <h3 className=\"element__title\">{props.card.name}</h3>\r\n      {(isOwn) ? (\r\n        <button type=\"button\" \r\n        onClick = {handleDeleteClick} \r\n        className=\"element__recyclebin\"></button>\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      <button\r\n        type=\"button\"\r\n        onClick={handleLikeClick}\r\n        className={\r\n          (isLiked)\r\n            ? \"element__like-button element__like-button_active\"\r\n            : \"element__like-button\"\r\n        }\r\n      ></button>\r\n      <p className=\"element__likes\">{(props.card.likes) ? props.card.likes.length : 0}</p>\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Cards from \"./Cards\";\r\nimport {CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__overlay\">\r\n          <img\r\n            src={(currentUser) ? currentUser.avatar : ''} \r\n            alt=\"аватар\"\r\n            className=\"profile__avatar\"\r\n            onClick={props.onEditAvatar}\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__title-edit\">\r\n            <h2 className=\"profile__title\">{(currentUser) ? currentUser.name : ''}</h2> \r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              onClick={props.onEditProfile}\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{(currentUser) ? currentUser.about : ''}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card) => (\r\n            <Cards card={card}\r\n            key={card._id} \r\n            onImgClick={props.onImgClick} \r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const today = new Date();\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© {today.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n  const popupOpened = `${props.isOpen ? 'popup_opened' : ''}`\r\n\r\n  return(\r\n    <div className={`popup ${props.name} ${popupOpened}`}>\r\n      <button type=\"button\" className={`popup__close-icon ${props.name}__close-icon`} onClick={props.onClose}/>\r\n      <div className={`popup__container ${props.name}__container`}>\r\n  <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form className={`popup__form ${props.name}__form`} name={props.name} noValidate onSubmit={props.onSubmit}>\r\n           {props.children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n  const popupOpened = `${props.isOpen ? \"popup popup_photo popup_opened\" : \"popup popup_photo\"}`\r\n  return (\r\n    <div className={popupOpened}>\r\n      <div className=\"popup__container popup_photo__container\">\r\n        <img\r\n          className=\"popup_photo__pic\"\r\n          alt={props.card ? props.card.alt : \"нет описания\"}\r\n          src={props.card ? props.card.link : \"#\"}\r\n        />\r\n        <h3 className=\"popup__title popup_photo__title\">\r\n          {props.card ? props.card.name : \"\"}\r\n        </h3>\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"popup__close-icon popup_photo__close-icon\"\r\n        onClick={props.onClose}\r\n      ></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","\r\n\r\nclass Api { // поечему то не обновилось имя файла\r\n  constructor(config)  {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch( this._url+'/cards', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n  }\r\n\r\n  getUserProfile() {\r\n    return fetch( this._url+'/users/me', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n  }\r\n\r\n  editUserProfile(data) {\r\n    return fetch( this._url+'/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n    }\r\n\r\n  addNewCard(data) {\r\n    return fetch( this._url+'/cards', {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n    .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch( this._url+'/cards/'+cardId, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n} \r\n\r\n  addLike(cardId) {\r\n    return fetch( this._url+'/cards/likes/'+cardId, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n  } \r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch( this._url+'/cards/likes/'+cardId, {\r\n        method: 'DELETE',\r\n        headers: this._headers\r\n      })\r\n       .then(res => {\r\n        return this._checkRequest(res)\r\n       });\r\n    }\r\n    else {\r\n      return fetch( this._url+'/cards/likes/'+cardId, {\r\n        method: 'PUT',\r\n        headers: this._headers\r\n      })\r\n      .then(res => {\r\n        return this._checkRequest(res)\r\n       });\r\n    }\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch( this._url+'/cards/likes/'+cardId, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n     .then(res => {\r\n      return this._checkRequest(res)\r\n     });\r\n  } \r\n\r\n  editUserAvatar(data) {\r\n    return fetch( this._url+'/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => {\r\n       return this._checkRequest(res)\r\n      });\r\n  }\r\n\r\n  _checkRequest(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n}\r\n\r\nconst configApi = {url: 'https://mesto.nomoreparties.co/v1/cohort-16' ,\r\n  headers: {authorization: '070b2a82-6a1e-49d9-8bec-07436830ab2d', 'Content-Type': 'application/json'}\r\n}\r\n  \r\n export const api = new Api(configApi);\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nexport default function EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description ,setDescription ] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName((currentUser) ? currentUser.name : '');\r\n    setDescription((currentUser) ? currentUser.about : '');\r\n  }, [currentUser]); \r\n\r\n  function handleChangeAuthor(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        title=\"Редактировать профиль\"\r\n        name=\"popup_profile\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit ={handleSubmit}\r\n      >\r\n        <input\r\n          id=\"popup_profile__title\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          className=\"popup__edit popup_profile__title\"\r\n          minLength={2}\r\n          maxLength={40}\r\n          onChange={handleChangeAuthor}\r\n          value={name ? name: ''}\r\n        />\r\n        <span id=\"popup_profile__title-error\" className=\"popup__input-error\" />\r\n        <input\r\n          id=\"popup_profile__subtitle\"\r\n          type=\"text\"\r\n          name=\"subtitle\"\r\n          placeholder=\"Профессия\"\r\n          required\r\n          className=\"popup__edit popup_profile__subtitle\"\r\n          minLength={2}\r\n          maxLength={200}\r\n          onChange={handleChangeDescription}\r\n          value={description ? description : ''}\r\n        />\r\n        <span\r\n          id=\"popup_profile__subtitle-error\"\r\n          className=\"popup__input-error\"\r\n        />\r\n        <button className=\"popup__button popup_profile__button\" type=\"submit\">\r\n          Сохранить\r\n        </button>\r\n      </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n  const avatar = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatar.current.value,\r\n    });\r\n  } \r\n  \r\n  \r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"popup_avatar\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit ={handleSubmit}\r\n    >\r\n      <input\r\n        ref={avatar}\r\n        id=\"popup_avatar__src\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"subtitle\"\r\n        required\r\n        className=\"popup__edit popup_avatar__src\"\r\n      />\r\n      <span id=\"popup_avatar__src-error\" className=\"popup__input-error\" />\r\n      <button className=\"popup__button popup_avatar__button\" type=\"submit\">\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n  const [name, setName] = React.useState();\r\n  const [link, setLink] = React.useState();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlaceCard({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  function handleChangeTitle(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"popup_card\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        id=\"popup_card__title\"\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        name=\"title\"\r\n        required\r\n        className=\"popup__edit popup_card__title\"\r\n        minLength={1}\r\n        maxLength={30}\r\n        onChange={handleChangeTitle}\r\n        value={name ? name : ''}\r\n      />\r\n      <span id=\"popup_card__title-error\" className=\"popup__input-error\" />\r\n      <input\r\n        id=\"popup_card__src\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"subtitle\"\r\n        required\r\n        className=\"popup__edit popup_card__src\"\r\n        onChange={handleChangeLink}\r\n        value={link ? link : ''}\r\n      />\r\n      <span id=\"popup_card__src-error\" className=\"popup__input-error\" />\r\n      <button className=\"popup__button popup_card__button\" type=\"submit\">\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext  } from '../contexts/CurrentUserContext';\nimport { api } from \"../utils/api.js\";\nimport EditProfilePopup from \"./EditProfilePopup\"\nimport EditAvatarPopup from \"./EditAvatarPopup\"\nimport AddPlacePopup from \"./AddPlacePopup\"\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState();\n  \n  React.useEffect(() => {\n    api\n      .getUserProfile()\n      .then((getUser) => {\n        setCurrentUser(getUser);\n      })\n      .catch((err) => {\n        console.log(\"Ошибка. Запрос не выполнен: \", err);\n      });\n  }, []);\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cardsInit) => {\n        setCards(cardsInit);\n      })\n      .catch((err) => {\n        console.log(\"Ошибка. Запрос не выполнен: \", err);\n      });\n  }, []);\n\n  \n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImgPopupOpen, setImgPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard]=React.useState();\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n    handleImgClick();\n  }\n\n  function handleUpdateUser(data) {\n    api.editUserProfile(data)\n  .then(() => {\n    setCurrentUser(data)\n    closeAllPopups()\n  })\n  .then(()=> {\n    api\n      .getUserProfile()\n      .then((getUser) => {\n        setCurrentUser(getUser);\n      })\n      .catch((err) => {\n        console.log(\"Ошибка. Запрос не выполнен: \", err);\n      });\n  })\n  .catch((err) => {\n    console.log('Ошибка. Запрос не выполнен: ', err);\n  }); \n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n  }).catch((err) => {\n    console.log('Ошибка. Запрос не выполнен: ', err);\n});\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter((c) => (c._id !== card._id)  )\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log('Ошибка. Запрос не выполнен: ', err);\n  });\n  }\n\n\n  function handleUpdateAvatar(data) {\n    api.editUserAvatar(data)\n  .then(() => {\n    data.name = currentUser.name;\n    data.about = currentUser.about;\n    setCurrentUser(data)\n    closeAllPopups()\n    \n  })\n  // .then(()=>{\n  //   api\n  //   .getUserProfile()\n  //   .then((getUser) => {\n  //     setCurrentUser(getUser);\n  //   })\n  //   .catch((err) => {\n  //     console.log(\"Ошибка. Запрос не выполнен: \", err);\n  //   });\n  // })\n  .catch((err) => {\n    console.log('Ошибка. Запрос не выполнен: ', err);\n  }); \n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleImgClick() {\n    setImgPopupOpen(true);\n  }\n\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setImgPopupOpen(false);\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addNewCard(newCard)\n      .then((data) => {\n        setCards([data, ...cards]); \n      })\n      .then(() => {\n        closeAllPopups()\n        })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n        })\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onImgClick={handleCardClick}\n        cards={(cards) ? cards : [{}]}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <Footer />\n      <EditProfilePopup \n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateUser={handleUpdateUser}\n        /> \n      <AddPlacePopup \n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups} \n        onAddPlaceCard={handleAddPlaceSubmit}\n      />\n      <EditAvatarPopup \n      isOpen={isEditAvatarPopupOpen} \n      onClose={closeAllPopups} \n      onUpdateAvatar={handleUpdateAvatar}\n      /> \n      <PopupWithForm\n        title=\"Вы уверены?\"\n        name=\"popup_delete\"\n        onClose={closeAllPopups}\n      >\n        <button className=\"popup__button popup_delete__button\" type=\"submit\">\n          Да\n        </button>\n      </PopupWithForm>\n      <ImagePopup card={selectedCard} isOpen={isImgPopupOpen} onClose={closeAllPopups}></ImagePopup>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}